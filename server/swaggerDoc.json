{
  "swagger": "2.0",
  "info": {
    "description": " This is the api documentation for the Monash Tutor Allocation System",
    "version": "1.0.0",
    "title": "Monash Tutor Allocation System"
  },
  "tags": [
    { "name": "Activity", "description": "Activities of a unit" },
    { "name": "Allocation", "description": "Allocation of TA to a unit" },
    { "name": "Auth", "description": "User authentication service" },
    { "name": "Availability", "description": "Staff availabilities" },
    { "name": "Role", "description": "Staff role per unit" },
    { "name": "Rule", "description": "Rules for activity allocations" },
    {
      "name": "Staff Preference",
      "description": "Staff's preference for unit"
    },
    { "name": "Staff", "description": "Information about staff" },
    { "name": "Status Log", "description": "History log for allocations" },
    { "name": "Swap", "description": "Allocation swap between TA" },
    { "name": "Unit", "description": "Information about unit" },
    { "name": "Upload", "description": "Operations for uploading data" }
  ],
  "schemes": ["http"],
  "paths": {
    "/activities": {
      "get": {
        "tags": ["Activity"],
        "summary": "Get all activities with corresponding unit and allocations",
        "description": "Require Admin role",
        "operationId": "getAllActivities",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "activityCode": { "type": "string" },
                  "activityGroup": { "type": "string" },
                  "campus": { "type": "string" },
                  "location": { "type": "string" },
                  "dayOfWeek": {
                    "type": "string",
                    "enum": ["M", "T", "W", "Th", "F"]
                  },
                  "startTime": { "type": "string", "format": "time" },
                  "endTime": { "type": "string", "format": "time" },
                  "unitId": { "type": "string", "format": "uuid" },
                  "studentCount": { "type": "integer", "default": 0 },
                  "allocationMaxNum": { "type": "integer", "default": 1 },
                  "allocations": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string", "format": "uuid" },
                        "activityId": { "type": "string", "format": "uuid" },
                        "staffId": { "type": "string", "format": "uuid" },
                        "offerExpiryDate": {
                          "type": "string",
                          "format": "timestamptz"
                        },
                        "isLecturerApproved": {
                          "type": "boolean",
                          "default": null,
                          "nullable": true
                        },
                        "isTaAccepted": {
                          "type": "boolean",
                          "default": null,
                          "nullable": true
                        },
                        "isWorkforceApproved": {
                          "type": "boolean",
                          "default": null,
                          "nullable": true
                        },
                        "staff": {
                          "type": "object",
                          "properties": {
                            "id": { "type": "string", "format": "uuid" },
                            "givenNames": {
                              "type": "string",
                              "nullable": true
                            },
                            "lastName": { "type": "string", "nullable": true },
                            "aqf": { "type": "integer", "nullable": true },
                            "studyingAqf": {
                              "type": "integer",
                              "nullable": true
                            },
                            "email": {
                              "uniqueItems": true,
                              "type": "string",
                              "format": "text"
                            },
                            "googleId": { "type": "string", "nullable": true },
                            "appRole": {
                              "type": "string",
                              "enum": ["User", "Admin"]
                            }
                          }
                        }
                      }
                    }
                  },
                  "unit": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "unitCode": { "type": "string" },
                      "offeringPeriod": { "type": "string" },
                      "campus": { "type": "string" },
                      "year": { "type": "integer" },
                      "aqfTarget": { "type": "integer" }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "insufficient authorisation",
            "schema": {
              "type": "object",
              "properties": {
                "admin": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user does not have admin privilege"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Activity"],
        "summary": "Update an activity",
        "operationId": "updateActivity",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Updated activity object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityCode": { "type": "string" },
                "activityGroup": { "type": "string" },
                "campus": { "type": "string" },
                "location": { "type": "string" },
                "dayOfWeek": {
                  "type": "string",
                  "enum": ["M", "T", "W", "Th", "F"]
                },
                "startTime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "unitId": { "type": "string", "format": "uuid" },
                "studentCount": { "type": "integer", "default": 0 },
                "allocationMaxNum": { "type": "integer", "default": 1 }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityCode": { "type": "string" },
                "activityGroup": { "type": "string" },
                "campus": { "type": "string" },
                "location": { "type": "string" },
                "dayOfWeek": {
                  "type": "string",
                  "enum": ["M", "T", "W", "Th", "F"]
                },
                "startTime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "unitId": { "type": "string", "format": "uuid" },
                "studentCount": { "type": "integer", "default": 0 },
                "allocationMaxNum": { "type": "integer", "default": 1 }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Activity"],
        "summary": "Creates an activity",
        "operationId": "createActivity",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "New activity object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityCode": { "type": "string" },
                "activityGroup": { "type": "string" },
                "campus": { "type": "string" },
                "location": { "type": "string" },
                "dayOfWeek": {
                  "type": "string",
                  "enum": ["M", "T", "W", "Th", "F"]
                },
                "startTime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "unitId": { "type": "string", "format": "uuid" },
                "studentCount": { "type": "integer", "default": 0 },
                "allocationMaxNum": { "type": "integer", "default": 1 }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityCode": { "type": "string" },
                "activityGroup": { "type": "string" },
                "campus": { "type": "string" },
                "location": { "type": "string" },
                "dayOfWeek": {
                  "type": "string",
                  "enum": ["M", "T", "W", "Th", "F"]
                },
                "startTime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "unitId": { "type": "string", "format": "uuid" },
                "studentCount": { "type": "integer", "default": 0 },
                "allocationMaxNum": { "type": "integer", "default": 1 }
              }
            }
          }
        }
      }
    },
    "/activities/all-my-lecturing": {
      "get": {
        "tags": ["Activity"],
        "summary": "Return a list of activities that the user is lecturing",
        "operationId": "getAllLecturingActivities",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "activityCode": { "type": "string" },
                  "activityGroup": { "type": "string" },
                  "campus": { "type": "string" },
                  "location": { "type": "string" },
                  "dayOfWeek": {
                    "type": "string",
                    "enum": ["M", "T", "W", "Th", "F"]
                  },
                  "startTime": { "type": "string", "format": "time" },
                  "endTime": { "type": "string", "format": "time" },
                  "unitId": { "type": "string", "format": "uuid" },
                  "studentCount": { "type": "integer", "default": 0 },
                  "allocationMaxNum": { "type": "integer", "default": 1 },
                  "allocations": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string", "format": "uuid" },
                        "activityId": { "type": "string", "format": "uuid" },
                        "staffId": { "type": "string", "format": "uuid" },
                        "offerExpiryDate": {
                          "type": "string",
                          "format": "timestamptz"
                        },
                        "isLecturerApproved": {
                          "type": "boolean",
                          "default": null,
                          "nullable": true
                        },
                        "isTaAccepted": {
                          "type": "boolean",
                          "default": null,
                          "nullable": true
                        },
                        "isWorkforceApproved": {
                          "type": "boolean",
                          "default": null,
                          "nullable": true
                        },
                        "staff": {
                          "type": "object",
                          "properties": {
                            "id": { "type": "string", "format": "uuid" },
                            "givenNames": {
                              "type": "string",
                              "nullable": true
                            },
                            "lastName": { "type": "string", "nullable": true },
                            "aqf": { "type": "integer", "nullable": true },
                            "studyingAqf": {
                              "type": "integer",
                              "nullable": true
                            },
                            "email": {
                              "uniqueItems": true,
                              "type": "string",
                              "format": "text"
                            },
                            "googleId": { "type": "string", "nullable": true },
                            "appRole": {
                              "type": "string",
                              "enum": ["User", "Admin"]
                            }
                          }
                        }
                      }
                    }
                  },
                  "unit": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "unitCode": { "type": "string" },
                      "offeringPeriod": { "type": "string" },
                      "campus": { "type": "string" },
                      "year": { "type": "integer" },
                      "aqfTarget": { "type": "integer" }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          }
        }
      }
    },
    "/activities/{activityId}": {
      "get": {
        "tags": ["Activity"],
        "summary": "Get activity by activityId",
        "description": "Return one activity with corresponding unit and allocations.\n\n        Role authorisation:\n        * TA: can get activities if they have the unit id\n        * Lecturer: can get activities if they have the unit id\n        * Admin: can get all activities always",
        "operationId": "getActivity",
        "produces": ["application/json"],
        "parameters": [
          {
            "name": "activityId",
            "in": "path",
            "description": "Id of the activity",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityCode": { "type": "string" },
                "activityGroup": { "type": "string" },
                "campus": { "type": "string" },
                "location": { "type": "string" },
                "dayOfWeek": {
                  "type": "string",
                  "enum": ["M", "T", "W", "Th", "F"]
                },
                "startTime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "unitId": { "type": "string", "format": "uuid" },
                "studentCount": { "type": "integer", "default": 0 },
                "allocationMaxNum": { "type": "integer", "default": 1 }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Activity"],
        "summary": "Delete an activity",
        "description": "\n      \n        Role authorisation:\n        * TA: not allowed\n        * Lecturer: can delete activities in units they are lecturing\n        * Admin: can delete any activity\n      ",
        "operationId": "deleteActivity",
        "produces": ["application/json"],
        "parameters": [
          {
            "name": "activityId",
            "in": "path",
            "description": "Id of the activity",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityCode": { "type": "string" },
                "activityGroup": { "type": "string" },
                "campus": { "type": "string" },
                "location": { "type": "string" },
                "dayOfWeek": {
                  "type": "string",
                  "enum": ["M", "T", "W", "Th", "F"]
                },
                "startTime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "unitId": { "type": "string", "format": "uuid" },
                "studentCount": { "type": "integer", "default": 0 },
                "allocationMaxNum": { "type": "integer", "default": 1 }
              }
            }
          }
        }
      }
    },
    "/activities/{activityId}/allocationsMaxNum": {
      "patch": {
        "tags": ["Activity"],
        "summary": "Updates the max number of allocation for an activity",
        "operationId": "updateMaxNumberOfAllocations",
        "produces": ["application/json"],
        "parameters": [
          {
            "name": "activityId",
            "in": "path",
            "description": "Id of the activity",
            "required": true,
            "type": "string"
          },
          {
            "name": "value",
            "in": "query",
            "description": "New max number of allocation",
            "required": true,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityCode": { "type": "string" },
                "activityGroup": { "type": "string" },
                "campus": { "type": "string" },
                "location": { "type": "string" },
                "dayOfWeek": {
                  "type": "string",
                  "enum": ["M", "T", "W", "Th", "F"]
                },
                "startTime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "unitId": { "type": "string", "format": "uuid" },
                "studentCount": { "type": "integer", "default": 0 },
                "allocationMaxNum": { "type": "integer", "default": 1 }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          }
        }
      }
    },
    "/activities/{activityId}/candidates": {
      "get": {
        "tags": ["Activity"],
        "summary": "Return the unsorted candidate pool for an activity",
        "description": "\n      \n      Role authorisation:\n      - TA: not allowed\n      - Lecturer: can get candidates in units they are lecturing\n      - Admin: can get candidates always\n      ",
        "operationId": "getCandidates",
        "produces": ["application/json"],
        "parameters": [
          {
            "name": "activityId",
            "in": "path",
            "description": "Id of the activity",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "preferenceScore": { "type": "integer" },
                  "lecturerScore": { "type": "integer" },
                  "isHeadTutorCandidate": { "type": "boolean" },
                  "staffId": { "type": "string", "format": "uuid" },
                  "unitId": { "type": "string", "format": "uuid" }
                }
              }
            }
          }
        }
      }
    },
    "/activities/{activityId}/candidates/{sortingCriteria}": {
      "get": {
        "tags": ["Activity"],
        "summary": "Returns the sorted candidate pool for an activity",
        "description": "\n      \n        Role authorisation:\n        - TA: not allowed\n        - Lecturer: can get sorted candidates in units they are lecturing\n        - Admin: can get sorted candidates always\n      ",
        "operationId": "getSortedCandidates",
        "produces": ["application/json"],
        "parameters": [
          {
            "name": "activityId",
            "in": "path",
            "description": "Id of the activity",
            "required": true,
            "type": "string"
          },
          {
            "name": "sortingCriteria",
            "in": "path",
            "description": "Sorting criteria for candidates, lecturer/staff",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "401": {
              "description": "user has not been authenticated",
              "schema": {
                "type": "object",
                "properties": {
                  "authenticated": { "type": "boolean", "example": "false" },
                  "message": {
                    "type": "string",
                    "example": "user has not been authenticated"
                  }
                }
              }
            },
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "preferenceScore": { "type": "integer" },
                  "lecturerScore": { "type": "integer" },
                  "isHeadTutorCandidate": { "type": "boolean" },
                  "staffId": { "type": "string", "format": "uuid" },
                  "unitId": { "type": "string", "format": "uuid" }
                }
              }
            }
          }
        }
      }
    },
    "/allocations": {
      "post": {
        "tags": ["Allocation"],
        "summary": "Creates an allocation",
        "description": "\n      \n      Role authorisation:\n      - TA: not allowed\n      - Lecturer: can create allocation for unit they're lecturing but not isWorkforceApproved attribute\n      - Admin: can create allocation in any unit\n      ",
        "operationId": "createAllocation",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "New allocation object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" },
                "offerExpiryDate": {
                  "type": "string",
                  "format": "timestamptz"
                },
                "isLecturerApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isTaAccepted": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isWorkforceApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" },
                "offerExpiryDate": {
                  "type": "string",
                  "format": "timestamptz"
                },
                "isLecturerApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isTaAccepted": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isWorkforceApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          },
          "403": {
            "description": "User role doesn't have authorisation for the operation",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "UnauthorisedAccessedError"
                },
                "message": { "type": "string" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Allocation"],
        "summary": "Updates an allocation",
        "description": "\n      \n      Role authorisation:\n      - TA: not allowed\n      - Lecturer: not allowed\n      - Admin: can update allocation in any unit, regardless of the acceptance status\n      ",
        "operationId": "updateAllocation",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "description": "Updated allocation object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" },
                "offerExpiryDate": {
                  "type": "string",
                  "format": "timestamptz"
                },
                "isLecturerApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isTaAccepted": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isWorkforceApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" },
                "offerExpiryDate": {
                  "type": "string",
                  "format": "timestamptz"
                },
                "isLecturerApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isTaAccepted": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isWorkforceApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          },
          "403": {
            "description": "User role doesn't have authorisation for the operation",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "UnauthorisedAccessedError"
                },
                "message": { "type": "string" }
              }
            }
          }
        }
      }
    },
    "/allocations/mine": {
      "get": {
        "tags": ["Allocation"],
        "summary": "Get the allocated activities of the current user",
        "operationId": "getMyAllocation",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "query",
            "name": "unitId",
            "description": "Filter allocations with unitId",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "isLecturerApproved",
            "description": "Filter allocations with lecturerApproved true or false",
            "required": false,
            "type": "boolean"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "activityId": { "type": "string", "format": "uuid" },
                  "staffId": { "type": "string", "format": "uuid" },
                  "offerExpiryDate": {
                    "type": "string",
                    "format": "timestamptz"
                  },
                  "isLecturerApproved": {
                    "type": "boolean",
                    "default": null,
                    "nullable": true
                  },
                  "isTaAccepted": {
                    "type": "boolean",
                    "default": null,
                    "nullable": true
                  },
                  "isWorkforceApproved": {
                    "type": "boolean",
                    "default": null,
                    "nullable": true
                  },
                  "staff": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "givenNames": { "type": "string", "nullable": true },
                      "lastName": { "type": "string", "nullable": true },
                      "aqf": { "type": "integer", "nullable": true },
                      "studyingAqf": { "type": "integer", "nullable": true },
                      "email": {
                        "uniqueItems": true,
                        "type": "string",
                        "format": "text"
                      },
                      "googleId": { "type": "string", "nullable": true },
                      "appRole": { "type": "string", "enum": ["User", "Admin"] }
                    }
                  },
                  "unit": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "unitCode": { "type": "string" },
                      "offeringPeriod": { "type": "string" },
                      "campus": { "type": "string" },
                      "year": { "type": "integer" },
                      "aqfTarget": { "type": "integer" }
                    }
                  },
                  "activity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          }
        }
      }
    },
    "/allocations/unswapped": {
      "get": {
        "tags": ["Allocation"],
        "summary": "Get unswapped allocations",
        "operationId": "getUnswappedAllocation",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "query",
            "name": "unitId",
            "description": "Filter allocations with unitId",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "isLecturerApproved",
            "description": "Filter allocations with isLecturerApproved true or false",
            "required": false,
            "type": "boolean"
          },
          {
            "in": "query",
            "name": "isWorkforceApproved",
            "description": "Filter allocations with isWorkforceApproved true or false",
            "required": false,
            "type": "boolean"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "activityId": { "type": "string", "format": "uuid" },
                  "staffId": { "type": "string", "format": "uuid" },
                  "offerExpiryDate": {
                    "type": "string",
                    "format": "timestamptz"
                  },
                  "isLecturerApproved": {
                    "type": "boolean",
                    "default": null,
                    "nullable": true
                  },
                  "isTaAccepted": {
                    "type": "boolean",
                    "default": null,
                    "nullable": true
                  },
                  "isWorkforceApproved": {
                    "type": "boolean",
                    "default": null,
                    "nullable": true
                  },
                  "staff": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "givenNames": { "type": "string", "nullable": true },
                      "lastName": { "type": "string", "nullable": true },
                      "aqf": { "type": "integer", "nullable": true },
                      "studyingAqf": { "type": "integer", "nullable": true },
                      "email": {
                        "uniqueItems": true,
                        "type": "string",
                        "format": "text"
                      },
                      "googleId": { "type": "string", "nullable": true },
                      "appRole": { "type": "string", "enum": ["User", "Admin"] }
                    }
                  },
                  "unit": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "unitCode": { "type": "string" },
                      "offeringPeriod": { "type": "string" },
                      "campus": { "type": "string" },
                      "year": { "type": "integer" },
                      "aqfTarget": { "type": "integer" }
                    }
                  },
                  "activity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          }
        }
      }
    },
    "/allocations/{id}": {
      "delete": {
        "tags": ["Allocation"],
        "summary": "Delete an allocation with id",
        "description": "\n      \n      Role authorisation:\n      - TA: can delete allocation assigned to them and if the allocation is already approved\n      - Lecturer: can delete allocation in unit they're lecturing and if the allocation is not already accepted\n      - Admin: can delete allocation in any unit, regardless of the acceptance status\n      ",
        "operationId": "deleteAllocation",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "allocationID",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" },
                "offerExpiryDate": {
                  "type": "string",
                  "format": "timestamptz"
                },
                "isLecturerApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isTaAccepted": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isWorkforceApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          },
          "403": {
            "description": "User role doesn't have authorisation for the operation",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "UnauthorisedAccessedError"
                },
                "message": { "type": "string" }
              }
            }
          }
        }
      }
    },
    "/allocations/{id}/lecturer-approval": {
      "patch": {
        "tags": ["Allocation"],
        "summary": "Update lecturer approval status for specified allocation",
        "description": "\n      \n      Role authorisation:\n      - TA: not allowed\n      - Lecturer: can approve allocation in unit they're lecturing\n      - Admin: can approve allocation in any unit\n      ",
        "operationId": "updateLecturerApproval",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "allocationID",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "value",
            "description": "updated value",
            "required": true,
            "type": "boolean"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" },
                "offerExpiryDate": {
                  "type": "string",
                  "format": "timestamptz"
                },
                "isLecturerApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isTaAccepted": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isWorkforceApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          },
          "403": {
            "description": "User role doesn't have authorisation for the operation",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "UnauthorisedAccessedError"
                },
                "message": { "type": "string" }
              }
            }
          }
        }
      }
    },
    "/allocations/{id}/workforce-approval": {
      "patch": {
        "tags": ["Allocation"],
        "summary": "Update acceptance status for the specified allocation",
        "description": "\n      \n      Role authorisation:\n      - TA: not allowed\n      - Lecturer: not allowed\n      - Admin: can approve allocation in any unit\n      ",
        "operationId": "updateTaAcceptance",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "allocationID",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "value",
            "description": "updated value",
            "required": true,
            "type": "boolean"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" },
                "offerExpiryDate": {
                  "type": "string",
                  "format": "timestamptz"
                },
                "isLecturerApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isTaAccepted": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isWorkforceApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          },
          "403": {
            "description": "User role doesn't have authorisation for the operation",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "UnauthorisedAccessedError"
                },
                "message": { "type": "string" }
              }
            }
          }
        }
      }
    },
    "/allocations/{id}/ta-acceptance": {
      "patch": {
        "tags": ["Allocation"],
        "summary": "Update workforce approval status for the specified allocation",
        "description": "\n      \n      Role authorisation:\n      - TA/Lecturer: can accept allocation assigned to them (i.e. allocation.staffId == user.id)\n      - Admin: can accept allocation in any unit (on behalf of the assignee)\n      ",
        "operationId": "updateWorkforceApproval",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "allocationID",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "value",
            "description": "updated value",
            "required": true,
            "type": "boolean"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "activityId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" },
                "offerExpiryDate": {
                  "type": "string",
                  "format": "timestamptz"
                },
                "isLecturerApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isTaAccepted": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                },
                "isWorkforceApproved": {
                  "type": "boolean",
                  "default": null,
                  "nullable": true
                }
              }
            }
          },
          "401": {
            "description": "user has not been authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "authenticated": { "type": "boolean", "example": "false" },
                "message": {
                  "type": "string",
                  "example": "user has not been authenticated"
                }
              }
            }
          },
          "403": {
            "description": "User role doesn't have authorisation for the operation",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "UnauthorisedAccessedError"
                },
                "message": { "type": "string" }
              }
            }
          }
        }
      }
    },
    "/availabilities": {
      "get": {
        "tags": ["Availability"],
        "summary": "Returns a list of availabilities",
        "operationId": "getAllAvailabilities",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "query",
            "name": "staffId",
            "description": "Staff Id",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "day": {
                    "type": "string",
                    "enum": ["M", "T", "W", "Th", "F"]
                  },
                  "starttime": { "type": "string", "format": "time" },
                  "endTime": { "type": "string", "format": "time" },
                  "year": { "type": "integer" },
                  "maxHours": { "type": "integer" },
                  "maxNumberActivities": { "type": "integer" },
                  "staffId": { "type": "string", "format": "uuid" }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Availability"],
        "summary": "Creates an availability",
        "operationId": "createAvailability",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "newRecord",
            "description": "New availability object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "day": { "type": "string", "enum": ["M", "T", "W", "Th", "F"] },
                "starttime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "year": { "type": "integer" },
                "maxHours": { "type": "integer" },
                "maxNumberActivities": { "type": "integer" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "day": { "type": "string", "enum": ["M", "T", "W", "Th", "F"] },
                "starttime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "year": { "type": "integer" },
                "maxHours": { "type": "integer" },
                "maxNumberActivities": { "type": "integer" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Availability"],
        "summary": "Updates an availability",
        "operationId": "updateAvailability",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "changedAvailability",
            "description": "Updated availability object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "day": { "type": "string", "enum": ["M", "T", "W", "Th", "F"] },
                "starttime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "year": { "type": "integer" },
                "maxHours": { "type": "integer" },
                "maxNumberActivities": { "type": "integer" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "day": { "type": "string", "enum": ["M", "T", "W", "Th", "F"] },
                "starttime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "year": { "type": "integer" },
                "maxHours": { "type": "integer" },
                "maxNumberActivities": { "type": "integer" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      }
    },
    "/availabilities/{id}": {
      "get": {
        "tags": ["Availability"],
        "summary": "Returns an availability",
        "operationId": "getAvailability",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Availability Id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "day": { "type": "string", "enum": ["M", "T", "W", "Th", "F"] },
                "starttime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "year": { "type": "integer" },
                "maxHours": { "type": "integer" },
                "maxNumberActivities": { "type": "integer" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Availability"],
        "summary": "Deletes an availability",
        "operationId": "deleteAvailability",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Availability Id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "day": { "type": "string", "enum": ["M", "T", "W", "Th", "F"] },
                "starttime": { "type": "string", "format": "time" },
                "endTime": { "type": "string", "format": "time" },
                "year": { "type": "integer" },
                "maxHours": { "type": "integer" },
                "maxNumberActivities": { "type": "integer" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      }
    },
    "/availabilities/monToFriAvai/{year}": {
      "get": {
        "tags": ["Availability"],
        "summary": "Returns a list of availabilities lists, of staff in order of Monday to Friday",
        "operationId": "getYearAvailabilities",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "year",
            "description": "Search availabilities with year",
            "required": true,
            "type": "string"
          },
          {
            "in": "query",
            "name": "staffId",
            "description": "Search availabilities of staff with id = staffId",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "M": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "day": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "starttime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "year": { "type": "integer" },
                      "maxHours": { "type": "integer" },
                      "maxNumberActivities": { "type": "integer" },
                      "staffId": { "type": "string", "format": "uuid" }
                    }
                  }
                },
                "T": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "day": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "starttime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "year": { "type": "integer" },
                      "maxHours": { "type": "integer" },
                      "maxNumberActivities": { "type": "integer" },
                      "staffId": { "type": "string", "format": "uuid" }
                    }
                  }
                },
                "W": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "day": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "starttime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "year": { "type": "integer" },
                      "maxHours": { "type": "integer" },
                      "maxNumberActivities": { "type": "integer" },
                      "staffId": { "type": "string", "format": "uuid" }
                    }
                  }
                },
                "Th": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "day": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "starttime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "year": { "type": "integer" },
                      "maxHours": { "type": "integer" },
                      "maxNumberActivities": { "type": "integer" },
                      "staffId": { "type": "string", "format": "uuid" }
                    }
                  }
                },
                "F": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "day": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "starttime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "year": { "type": "integer" },
                      "maxHours": { "type": "integer" },
                      "maxNumberActivities": { "type": "integer" },
                      "staffId": { "type": "string", "format": "uuid" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/roles": {
      "get": {
        "tags": ["Role"],
        "summary": "Get all roles",
        "operationId": "getRoles",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "title": { "type": "string", "enum": ["TA", "Lecturer"] },
                  "unitId": { "type": "string", "format": "uuid" },
                  "staffId": { "type": "string", "format": "uuid" },
                  "staff": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "givenNames": { "type": "string", "nullable": true },
                      "lastName": { "type": "string", "nullable": true },
                      "aqf": { "type": "integer", "nullable": true },
                      "studyingAqf": { "type": "integer", "nullable": true },
                      "email": {
                        "uniqueItems": true,
                        "type": "string",
                        "format": "text"
                      },
                      "googleId": { "type": "string", "nullable": true },
                      "appRole": { "type": "string", "enum": ["User", "Admin"] }
                    }
                  },
                  "unit": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "unitCode": { "type": "string" },
                      "offeringPeriod": { "type": "string" },
                      "campus": { "type": "string" },
                      "year": { "type": "integer" },
                      "aqfTarget": { "type": "integer" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/roles/{id}": {
      "get": {
        "tags": ["Role"],
        "summary": "Return a role",
        "operationId": "getRoleById",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "title": { "type": "string", "enum": ["TA", "Lecturer"] },
                "unitId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      }
    },
    "/roles/unit/{unitId}": {
      "get": {
        "tags": ["Role"],
        "summary": "Gets a unit's roles",
        "operationId": "getRolesByUnit",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "unitId",
            "description": "Unit Id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "title": { "type": "string", "enum": ["TA", "Lecturer"] },
                  "unitId": { "type": "string", "format": "uuid" },
                  "staffId": { "type": "string", "format": "uuid" }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Role"],
        "summary": "Creates a role record for the unit",
        "operationId": "createRole",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "newRecord",
            "description": "new role object",
            "required": true,
            "type": "string"
          },
          {
            "in": "path",
            "name": "unitId",
            "description": "Unit Id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "title": { "type": "string", "enum": ["TA", "Lecturer"] },
                "unitId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Role"],
        "summary": "Updates a role record for the unit",
        "operationId": "updateRole",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "changedRecord",
            "description": "updated role object",
            "required": true,
            "type": "string"
          },
          {
            "in": "path",
            "name": "unitId",
            "description": "Unit Id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "title": { "type": "string", "enum": ["TA", "Lecturer"] },
                "unitId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      }
    },
    "/roles/unit/{unitId}/me": {
      "get": {
        "tags": ["Role"],
        "summary": "Get role of the user for a unit",
        "operationId": "getMyRoleByUnit",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "unitId",
            "description": "Unit Id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "title": { "type": "string", "enum": ["TA", "Lecturer"] },
                "unitId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      }
    },
    "/roles/unit/{unitId}/{roleId}": {
      "delete": {
        "tags": ["Role"],
        "summary": "Deletes a role",
        "operationId": "deleteRole",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "unitId",
            "description": "Unit Id",
            "required": true,
            "type": "string"
          },
          {
            "in": "path",
            "name": "roleId",
            "description": "Role Id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "title": { "type": "string", "enum": ["TA", "Lecturer"] },
                "unitId": { "type": "string", "format": "uuid" },
                "staffId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      }
    },
    "/rules": {
      "get": {
        "tags": ["Rule"],
        "summary": "Returns a list of the global rules",
        "operationId": "getAllRules",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "ruleName": { "readOnly": true, "type": "string" },
                  "ruleDescription": { "readOnly": true, "type": "string" },
                  "value": { "type": "integer" }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Rule"],
        "summary": "Updates a global rule",
        "operationId": "updateRules",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "changedRules",
            "description": "Updated rule objects",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "ruleName": { "readOnly": true, "type": "string" },
                  "ruleDescription": { "readOnly": true, "type": "string" },
                  "value": { "type": "integer" }
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "ruleName": { "readOnly": true, "type": "string" },
                  "ruleDescription": { "readOnly": true, "type": "string" },
                  "value": { "type": "integer" }
                }
              }
            }
          }
        }
      }
    },
    "/rules/{id}": {
      "get": {
        "tags": ["Rule"],
        "summary": "Returns a rule",
        "operationId": "getRule",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "ruleId",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "ruleName": { "readOnly": true, "type": "string" },
                "ruleDescription": { "readOnly": true, "type": "string" },
                "value": { "type": "integer" }
              }
            }
          }
        }
      }
    },
    "/staffpreferences": {
      "get": {
        "tags": ["Staff Preference"],
        "summary": "Returns a list of staffPreferences",
        "operationId": "getAllStaffPreferences",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "query",
            "name": "staffId",
            "description": "Staff id",
            "required": false,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "preferenceScore": { "type": "integer" },
                    "lecturerScore": { "type": "integer" },
                    "isHeadTutorCandidate": { "type": "boolean" },
                    "staffId": { "type": "string", "format": "uuid" },
                    "unitId": { "type": "string", "format": "uuid" }
                  },
                  "unit": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "unitCode": { "type": "string" },
                      "offeringPeriod": { "type": "string" },
                      "campus": { "type": "string" },
                      "year": { "type": "integer" },
                      "aqfTarget": { "type": "integer" }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Staff Preference"],
        "summary": "Creates a staffPreference",
        "operationId": "createStaffPreference",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "newRecord",
            "description": "New StaffPreference object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "preferenceScore": { "type": "integer" },
                "lecturerScore": { "type": "integer" },
                "isHeadTutorCandidate": { "type": "boolean" },
                "staffId": { "type": "string", "format": "uuid" },
                "unitId": { "type": "string", "format": "uuid" }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "preferenceScore": { "type": "integer" },
                "lecturerScore": { "type": "integer" },
                "isHeadTutorCandidate": { "type": "boolean" },
                "staffId": { "type": "string", "format": "uuid" },
                "unitId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Staff Preference"],
        "summary": "Updates a staffPreference",
        "operationId": "updateStaffPreference",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "changedStaffPreference",
            "description": "Updated staffPreference object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "preferenceScore": { "type": "integer" },
                "lecturerScore": { "type": "integer" },
                "isHeadTutorCandidate": { "type": "boolean" },
                "staffId": { "type": "string", "format": "uuid" },
                "unitId": { "type": "string", "format": "uuid" }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "preferenceScore": { "type": "integer" },
                "lecturerScore": { "type": "integer" },
                "isHeadTutorCandidate": { "type": "boolean" },
                "staffId": { "type": "string", "format": "uuid" },
                "unitId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      }
    },
    "/staffpreferences/{id}": {
      "get": {
        "tags": ["Staff Preference"],
        "summary": "Returns a staffPreference",
        "operationId": "getStaffPreference",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "StaffPreference id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "preferenceScore": { "type": "integer" },
                "lecturerScore": { "type": "integer" },
                "isHeadTutorCandidate": { "type": "boolean" },
                "staffId": { "type": "string", "format": "uuid" },
                "unitId": { "type": "string", "format": "uuid" },
                "staff": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "givenNames": { "type": "string", "nullable": true },
                    "lastName": { "type": "string", "nullable": true },
                    "aqf": { "type": "integer", "nullable": true },
                    "studyingAqf": { "type": "integer", "nullable": true },
                    "email": {
                      "uniqueItems": true,
                      "type": "string",
                      "format": "text"
                    },
                    "googleId": { "type": "string", "nullable": true },
                    "appRole": { "type": "string", "enum": ["User", "Admin"] }
                  }
                },
                "unit": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "unitCode": { "type": "string" },
                    "offeringPeriod": { "type": "string" },
                    "campus": { "type": "string" },
                    "year": { "type": "integer" },
                    "aqfTarget": { "type": "integer" }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Staff Preference"],
        "summary": "Deletes a staffPreference",
        "operationId": "deleteStaffPreference",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "StaffPreference id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "preferenceScore": { "type": "integer" },
                "lecturerScore": { "type": "integer" },
                "isHeadTutorCandidate": { "type": "boolean" },
                "staffId": { "type": "string", "format": "uuid" },
                "unitId": { "type": "string", "format": "uuid" }
              }
            }
          }
        }
      }
    },
    "/staffpreferences/mine": {
      "get": {
        "tags": ["Staff Preference"],
        "summary": "Return the staff perferences for a current user.",
        "operationId": "getMyPreference",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "preferenceScore": { "type": "integer" },
                  "lecturerScore": { "type": "integer" },
                  "isHeadTutorCandidate": { "type": "boolean" },
                  "staffId": { "type": "string", "format": "uuid" },
                  "unitId": { "type": "string", "format": "uuid" },
                  "staff": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "givenNames": { "type": "string", "nullable": true },
                      "lastName": { "type": "string", "nullable": true },
                      "aqf": { "type": "integer", "nullable": true },
                      "studyingAqf": { "type": "integer", "nullable": true },
                      "email": {
                        "uniqueItems": true,
                        "type": "string",
                        "format": "text"
                      },
                      "googleId": { "type": "string", "nullable": true },
                      "appRole": { "type": "string", "enum": ["User", "Admin"] }
                    }
                  },
                  "unit": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "unitCode": { "type": "string" },
                      "offeringPeriod": { "type": "string" },
                      "campus": { "type": "string" },
                      "year": { "type": "integer" },
                      "aqfTarget": { "type": "integer" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/staff": {
      "get": {
        "tags": ["Staff"],
        "summary": "Get staff by unit",
        "operationId": "getStaffByUnit",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "query",
            "name": "unitCode",
            "description": "Unit code",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "offeringPeriod",
            "description": "Offering period of unit",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "year",
            "description": "Offering year of unit",
            "required": false,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "givenNames": { "type": "string", "nullable": true },
                  "lastName": { "type": "string", "nullable": true },
                  "aqf": { "type": "integer", "nullable": true },
                  "studyingAqf": { "type": "integer", "nullable": true },
                  "email": {
                    "uniqueItems": true,
                    "type": "string",
                    "format": "text"
                  },
                  "googleId": { "type": "string", "nullable": true },
                  "appRole": { "type": "string", "enum": ["User", "Admin"] }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Staff"],
        "summary": "Creates a staff member",
        "operationId": "createStaff",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "newRecord",
            "description": "New Staff object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "givenNames": { "type": "string", "nullable": true },
                "lastName": { "type": "string", "nullable": true },
                "aqf": { "type": "integer", "nullable": true },
                "studyingAqf": { "type": "integer", "nullable": true },
                "email": {
                  "uniqueItems": true,
                  "type": "string",
                  "format": "text"
                },
                "googleId": { "type": "string", "nullable": true },
                "appRole": { "type": "string", "enum": ["User", "Admin"] }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "givenNames": { "type": "string", "nullable": true },
                "lastName": { "type": "string", "nullable": true },
                "aqf": { "type": "integer", "nullable": true },
                "studyingAqf": { "type": "integer", "nullable": true },
                "email": {
                  "uniqueItems": true,
                  "type": "string",
                  "format": "text"
                },
                "googleId": { "type": "string", "nullable": true },
                "appRole": { "type": "string", "enum": ["User", "Admin"] }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Staff"],
        "summary": "Updates a staff member",
        "operationId": "updateStaff",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "newRecord",
            "description": "New Staff object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "givenNames": { "type": "string", "nullable": true },
                "lastName": { "type": "string", "nullable": true },
                "aqf": { "type": "integer", "nullable": true },
                "studyingAqf": { "type": "integer", "nullable": true },
                "email": {
                  "uniqueItems": true,
                  "type": "string",
                  "format": "text"
                },
                "googleId": { "type": "string", "nullable": true },
                "appRole": { "type": "string", "enum": ["User", "Admin"] }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "givenNames": { "type": "string", "nullable": true },
                "lastName": { "type": "string", "nullable": true },
                "aqf": { "type": "integer", "nullable": true },
                "studyingAqf": { "type": "integer", "nullable": true },
                "email": {
                  "uniqueItems": true,
                  "type": "string",
                  "format": "text"
                },
                "googleId": { "type": "string", "nullable": true },
                "appRole": { "type": "string", "enum": ["User", "Admin"] }
              }
            }
          }
        }
      }
    },
    "/staff/all": {
      "get": {
        "tags": ["Staff"],
        "summary": "Returns a list of staff",
        "operationId": "getAllStaff",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "givenNames": { "type": "string", "nullable": true },
                  "lastName": { "type": "string", "nullable": true },
                  "aqf": { "type": "integer", "nullable": true },
                  "studyingAqf": { "type": "integer", "nullable": true },
                  "email": {
                    "uniqueItems": true,
                    "type": "string",
                    "format": "text"
                  },
                  "googleId": { "type": "string", "nullable": true },
                  "appRole": { "type": "string", "enum": ["User", "Admin"] }
                }
              }
            }
          }
        }
      }
    },
    "/staff/{id}": {
      "get": {
        "tags": ["Staff"],
        "summary": "Returns a staff member",
        "operationId": "getStaff",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Staff id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "givenNames": { "type": "string", "nullable": true },
                "lastName": { "type": "string", "nullable": true },
                "aqf": { "type": "integer", "nullable": true },
                "studyingAqf": { "type": "integer", "nullable": true },
                "email": {
                  "uniqueItems": true,
                  "type": "string",
                  "format": "text"
                },
                "googleId": { "type": "string", "nullable": true },
                "appRole": { "type": "string", "enum": ["User", "Admin"] }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Staff"],
        "summary": "Deletes a staff member",
        "operationId": "deleteStaff",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Staff id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "givenNames": { "type": "string", "nullable": true },
                "lastName": { "type": "string", "nullable": true },
                "aqf": { "type": "integer", "nullable": true },
                "studyingAqf": { "type": "integer", "nullable": true },
                "email": {
                  "uniqueItems": true,
                  "type": "string",
                  "format": "text"
                },
                "googleId": { "type": "string", "nullable": true },
                "appRole": { "type": "string", "enum": ["User", "Admin"] }
              }
            }
          }
        }
      }
    },
    "/statuslog": {
      "get": {
        "tags": ["Status Log"],
        "summary": "Gets all the status logs",
        "operationId": "getAllStatusLogs",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "allocationId": { "type": "string", "format": "uuid" },
                  "staffId": { "type": "string", "format": "uuid" },
                  "targetStaffId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true
                  },
                  "action": { "type": "string" },
                  "time": { "type": "string" }
                }
              }
            }
          }
        }
      }
    },
    "/statuslog/{allocationId}": {
      "get": {
        "tags": ["Status Log"],
        "summary": "Gets all the status log with a particular allocationId",
        "operationId": "getStatusLogs",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "allocationId",
            "description": "Allocation id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "allocationId": { "type": "string", "format": "uuid" },
                  "staffId": { "type": "string", "format": "uuid" },
                  "targetStaffId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true
                  },
                  "action": { "type": "string" },
                  "time": { "type": "string" }
                }
              }
            }
          }
        }
      }
    },
    "/statuslog/{allocationId}/staffs": {
      "get": {
        "tags": ["Status Log"],
        "summary": "Get the status logs of an allocation with the staff and target staff objects attached to it",
        "operationId": "getStatusLogsWithUsers",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "allocationId",
            "description": "Allocation id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "allocationId": { "type": "string", "format": "uuid" },
                  "staffId": { "type": "string", "format": "uuid" },
                  "targetStaffId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true
                  },
                  "action": { "type": "string" },
                  "time": { "type": "string" },
                  "staff": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "givenNames": { "type": "string", "nullable": true },
                      "lastName": { "type": "string", "nullable": true },
                      "aqf": { "type": "integer", "nullable": true },
                      "studyingAqf": { "type": "integer", "nullable": true },
                      "email": {
                        "uniqueItems": true,
                        "type": "string",
                        "format": "text"
                      },
                      "googleId": { "type": "string", "nullable": true },
                      "appRole": { "type": "string", "enum": ["User", "Admin"] }
                    }
                  },
                  "targetStaff": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "givenNames": { "type": "string", "nullable": true },
                      "lastName": { "type": "string", "nullable": true },
                      "aqf": { "type": "integer", "nullable": true },
                      "studyingAqf": { "type": "integer", "nullable": true },
                      "email": {
                        "uniqueItems": true,
                        "type": "string",
                        "format": "text"
                      },
                      "googleId": { "type": "string", "nullable": true },
                      "appRole": { "type": "string", "enum": ["User", "Admin"] }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/swaps": {
      "get": {
        "tags": ["Swap"],
        "summary": "Fetch all swap entities",
        "operationId": "getAllSwaps",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "fromAllocationId": { "type": "string", "format": "uuid" },
                    "desiredActivityId": { "type": "string" },
                    "intoAllocationId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    },
                    "lecturerApproved": { "type": "boolean" },
                    "workforceApproved": { "type": "boolean" },
                    "desiredId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    }
                  },
                  "from": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityId": { "type": "string", "format": "uuid" },
                      "staffId": { "type": "string", "format": "uuid" },
                      "offerExpiryDate": {
                        "type": "string",
                        "format": "timestamptz"
                      },
                      "isLecturerApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isTaAccepted": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isWorkforceApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      }
                    }
                  },
                  "into": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityId": { "type": "string", "format": "uuid" },
                      "staffId": { "type": "string", "format": "uuid" },
                      "offerExpiryDate": {
                        "type": "string",
                        "format": "timestamptz"
                      },
                      "isLecturerApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isTaAccepted": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isWorkforceApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      }
                    }
                  },
                  "fromActivity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  },
                  "intoActivity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  },
                  "staff": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "givenNames": { "type": "string", "nullable": true },
                      "lastName": { "type": "string", "nullable": true },
                      "aqf": { "type": "integer", "nullable": true },
                      "studyingAqf": { "type": "integer", "nullable": true },
                      "email": {
                        "uniqueItems": true,
                        "type": "string",
                        "format": "text"
                      },
                      "googleId": { "type": "string", "nullable": true },
                      "appRole": { "type": "string", "enum": ["User", "Admin"] }
                    }
                  },
                  "intoStaff": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "givenNames": { "type": "string", "nullable": true },
                      "lastName": { "type": "string", "nullable": true },
                      "aqf": { "type": "integer", "nullable": true },
                      "studyingAqf": { "type": "integer", "nullable": true },
                      "email": {
                        "uniqueItems": true,
                        "type": "string",
                        "format": "text"
                      },
                      "googleId": { "type": "string", "nullable": true },
                      "appRole": { "type": "string", "enum": ["User", "Admin"] }
                    }
                  },
                  "unit": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "unitCode": { "type": "string" },
                      "offeringPeriod": { "type": "string" },
                      "campus": { "type": "string" },
                      "year": { "type": "integer" },
                      "aqfTarget": { "type": "integer" }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Swap"],
        "summary": "Create new swap entity",
        "operationId": "createSwapcreateSwap",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "newRecord",
            "description": "New swap object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Swap"],
        "summary": "Update a swap entity",
        "operationId": "updateSwap",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "changedSwap",
            "description": "Updated swap object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        }
      }
    },
    "/swaps/{id}": {
      "get": {
        "tags": ["Swap"],
        "summary": "Fetch swap enity by ID",
        "operationId": "getSwap",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "swap id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Swap"],
        "summary": "Delete swap entity by ID",
        "operationId": "deleteSwap",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "swap id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        }
      }
    },
    "/swaps/acceptSwap": {
      "post": {
        "tags": ["Swap"],
        "summary": "Accept a swap item by finding the appropriate allocation and adding it to the \"into\" section",
        "operationId": "acceptSwap",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "existingSwap",
            "description": "swap entity the user wished to accept: Swap",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        }
      }
    },
    "/swaps/pending-lecturer": {
      "get": {
        "tags": ["Swap"],
        "summary": "Get all the pending swaps for units that user is a lecturer for",
        "operationId": "getAllPendingSwaps",
        "produces": ["application/json"],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "fromAllocationId": { "type": "string", "format": "uuid" },
                    "desiredActivityId": { "type": "string" },
                    "intoAllocationId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    },
                    "lecturerApproved": { "type": "boolean" },
                    "workforceApproved": { "type": "boolean" },
                    "desiredId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    }
                  },
                  "from": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityId": { "type": "string", "format": "uuid" },
                      "staffId": { "type": "string", "format": "uuid" },
                      "offerExpiryDate": {
                        "type": "string",
                        "format": "timestamptz"
                      },
                      "isLecturerApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isTaAccepted": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isWorkforceApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      }
                    }
                  },
                  "into": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityId": { "type": "string", "format": "uuid" },
                      "staffId": { "type": "string", "format": "uuid" },
                      "offerExpiryDate": {
                        "type": "string",
                        "format": "timestamptz"
                      },
                      "isLecturerApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isTaAccepted": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isWorkforceApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      }
                    }
                  },
                  "fromActivity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  },
                  "intoActivity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  },
                  "staff": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "givenNames": { "type": "string", "nullable": true },
                      "lastName": { "type": "string", "nullable": true },
                      "aqf": { "type": "integer", "nullable": true },
                      "studyingAqf": { "type": "integer", "nullable": true },
                      "email": {
                        "uniqueItems": true,
                        "type": "string",
                        "format": "text"
                      },
                      "googleId": { "type": "string", "nullable": true },
                      "appRole": { "type": "string", "enum": ["User", "Admin"] }
                    }
                  },
                  "intoStaff": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "givenNames": { "type": "string", "nullable": true },
                      "lastName": { "type": "string", "nullable": true },
                      "aqf": { "type": "integer", "nullable": true },
                      "studyingAqf": { "type": "integer", "nullable": true },
                      "email": {
                        "uniqueItems": true,
                        "type": "string",
                        "format": "text"
                      },
                      "googleId": { "type": "string", "nullable": true },
                      "appRole": { "type": "string", "enum": ["User", "Admin"] }
                    }
                  },
                  "unit": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "unitCode": { "type": "string" },
                      "offeringPeriod": { "type": "string" },
                      "campus": { "type": "string" },
                      "year": { "type": "integer" },
                      "aqfTarget": { "type": "integer" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/swaps/pending/{unitId}": {
      "get": {
        "tags": ["Swap"],
        "summary": "Used to fill out Lecturers unique swap page where they can accept or reject swaps isnide their unit",
        "operationId": "getPendingSwaps",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "unitId",
            "description": "Unit id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "fromAllocationId": { "type": "string", "format": "uuid" },
                    "desiredActivityId": { "type": "string" },
                    "intoAllocationId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    },
                    "lecturerApproved": { "type": "boolean" },
                    "workforceApproved": { "type": "boolean" },
                    "desiredId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    }
                  },
                  "desiredId": { "type": "string" },
                  "from": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityId": { "type": "string", "format": "uuid" },
                      "staffId": { "type": "string", "format": "uuid" },
                      "offerExpiryDate": {
                        "type": "string",
                        "format": "timestamptz"
                      },
                      "isLecturerApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isTaAccepted": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isWorkforceApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      }
                    }
                  },
                  "into": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityId": { "type": "string", "format": "uuid" },
                      "staffId": { "type": "string", "format": "uuid" },
                      "offerExpiryDate": {
                        "type": "string",
                        "format": "timestamptz"
                      },
                      "isLecturerApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isTaAccepted": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isWorkforceApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      }
                    }
                  },
                  "fromActivity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  },
                  "intoActivity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  },
                  "desired": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/swaps/mine/{unitId}": {
      "get": {
        "tags": ["Swap"],
        "summary": "fetch all open swaps where the user belongs to the 'from' allocation",
        "operationId": "getMySwaps",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "unitId",
            "description": "Unit id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "fromAllocationId": { "type": "string", "format": "uuid" },
                    "desiredActivityId": { "type": "string" },
                    "intoAllocationId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    },
                    "lecturerApproved": { "type": "boolean" },
                    "workforceApproved": { "type": "boolean" },
                    "desiredId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    }
                  },
                  "desiredId": { "type": "string" },
                  "from": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityId": { "type": "string", "format": "uuid" },
                      "staffId": { "type": "string", "format": "uuid" },
                      "offerExpiryDate": {
                        "type": "string",
                        "format": "timestamptz"
                      },
                      "isLecturerApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isTaAccepted": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isWorkforceApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      }
                    }
                  },
                  "into": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityId": { "type": "string", "format": "uuid" },
                      "staffId": { "type": "string", "format": "uuid" },
                      "offerExpiryDate": {
                        "type": "string",
                        "format": "timestamptz"
                      },
                      "isLecturerApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isTaAccepted": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isWorkforceApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      }
                    }
                  },
                  "fromActivity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  },
                  "intoActivity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  },
                  "desired": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/swaps/rejectSwap/{id}": {
      "delete": {
        "tags": ["Swap"],
        "summary": "Reject a swap proposal and notify the members of the swap via email",
        "operationId": "rejectSwap",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Swap id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        }
      }
    },
    "/swaps/openSwaps/:unitId": {
      "get": {
        "tags": ["Swap"],
        "summary": "Fetch all swaps that are open and do not belong to the user that requested them",
        "operationId": "getOpenSwaps",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "unitId",
            "description": "Unit Id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "format": "uuid" },
                    "fromAllocationId": { "type": "string", "format": "uuid" },
                    "desiredActivityId": { "type": "string" },
                    "intoAllocationId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    },
                    "lecturerApproved": { "type": "boolean" },
                    "workforceApproved": { "type": "boolean" },
                    "desiredId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    }
                  },
                  "desiredId": { "type": "string" },
                  "from": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityId": { "type": "string", "format": "uuid" },
                      "staffId": { "type": "string", "format": "uuid" },
                      "offerExpiryDate": {
                        "type": "string",
                        "format": "timestamptz"
                      },
                      "isLecturerApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isTaAccepted": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isWorkforceApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      }
                    }
                  },
                  "into": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityId": { "type": "string", "format": "uuid" },
                      "staffId": { "type": "string", "format": "uuid" },
                      "offerExpiryDate": {
                        "type": "string",
                        "format": "timestamptz"
                      },
                      "isLecturerApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isTaAccepted": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      },
                      "isWorkforceApproved": {
                        "type": "boolean",
                        "default": null,
                        "nullable": true
                      }
                    }
                  },
                  "fromActivity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  },
                  "intoActivity": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  },
                  "desired": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "activityCode": { "type": "string" },
                      "activityGroup": { "type": "string" },
                      "campus": { "type": "string" },
                      "location": { "type": "string" },
                      "dayOfWeek": {
                        "type": "string",
                        "enum": ["M", "T", "W", "Th", "F"]
                      },
                      "startTime": { "type": "string", "format": "time" },
                      "endTime": { "type": "string", "format": "time" },
                      "unitId": { "type": "string", "format": "uuid" },
                      "studentCount": { "type": "integer", "default": 0 },
                      "allocationMaxNum": { "type": "integer", "default": 1 }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/swaps/swappable/{activityId}": {
      "get": {
        "tags": ["Swap"],
        "summary": "Get a list of activities a user could potentially swap into provided an activity they want to swap out of",
        "operationId": "getSwappableActivites",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "description": "Activity Id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "activityCode": { "type": "string" },
                  "activityGroup": { "type": "string" },
                  "campus": { "type": "string" },
                  "location": { "type": "string" },
                  "dayOfWeek": {
                    "type": "string",
                    "enum": ["M", "T", "W", "Th", "F"]
                  },
                  "startTime": { "type": "string", "format": "time" },
                  "endTime": { "type": "string", "format": "time" },
                  "unitId": { "type": "string", "format": "uuid" },
                  "studentCount": { "type": "integer", "default": 0 },
                  "allocationMaxNum": { "type": "integer", "default": 1 }
                }
              }
            }
          }
        }
      }
    },
    "/swaps/approveSwapLecturer/{id}": {
      "patch": {
        "tags": ["Swap"],
        "summary": "Lecturer approves a swap two staff members have proposed/accpeted",
        "operationId": "approveSwapLecturer",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Swap id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        }
      }
    },
    "/swaps/approveSwapWorkforce/{id}": {
      "patch": {
        "tags": ["Swap"],
        "summary": "Workforce approves a swap two staff members have proposed/accpeted",
        "operationId": "approveSwapWorkforce",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Swap id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "fromAllocationId": { "type": "string", "format": "uuid" },
                "desiredActivityId": { "type": "string" },
                "intoAllocationId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                },
                "lecturerApproved": { "type": "boolean" },
                "workforceApproved": { "type": "boolean" },
                "desiredId": {
                  "type": "string",
                  "format": "uuid",
                  "nullable": true
                }
              }
            }
          }
        }
      }
    },
    "/units": {
      "get": {
        "tags": ["Unit"],
        "summary": "get all units",
        "operationId": "getUnits",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "query",
            "name": "unitCode",
            "description": "Unit code",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "offeringPeriod",
            "description": "Unit offering period",
            "required": false,
            "type": "string"
          },
          {
            "in": "query",
            "name": "year",
            "description": "Unit offering year",
            "required": false,
            "type": "number"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "unitCode": { "type": "string" },
                  "offeringPeriod": { "type": "string" },
                  "campus": { "type": "string" },
                  "year": { "type": "integer" },
                  "aqfTarget": { "type": "integer" }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Unit"],
        "summary": "Creates a unit",
        "operationId": "createUnit",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "newRecord",
            "description": "New unit object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "unitCode": { "type": "string" },
                "offeringPeriod": { "type": "string" },
                "campus": { "type": "string" },
                "year": { "type": "integer" },
                "aqfTarget": { "type": "integer" }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "unitCode": { "type": "string" },
                "offeringPeriod": { "type": "string" },
                "campus": { "type": "string" },
                "year": { "type": "integer" },
                "aqfTarget": { "type": "integer" }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Unit"],
        "summary": "Updates a unit",
        "operationId": "updateUnit",
        "consumes": ["application.json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "changeUnit",
            "description": "Updated unit object",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "unitCode": { "type": "string" },
                "offeringPeriod": { "type": "string" },
                "campus": { "type": "string" },
                "year": { "type": "integer" },
                "aqfTarget": { "type": "integer" }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "unitCode": { "type": "string" },
                "offeringPeriod": { "type": "string" },
                "campus": { "type": "string" },
                "year": { "type": "integer" },
                "aqfTarget": { "type": "integer" }
              }
            }
          }
        }
      }
    },
    "/units/{id}": {
      "get": {
        "tags": ["Unit"],
        "summary": "Returns a unit",
        "operationId": "getUnitById",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Unit id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "unitCode": { "type": "string" },
                "offeringPeriod": { "type": "string" },
                "campus": { "type": "string" },
                "year": { "type": "integer" },
                "aqfTarget": { "type": "integer" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Unit"],
        "summary": "Deletes a unit",
        "operationId": "deleteUnit",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Unit id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "format": "uuid" },
                "unitCode": { "type": "string" },
                "offeringPeriod": { "type": "string" },
                "campus": { "type": "string" },
                "year": { "type": "integer" },
                "aqfTarget": { "type": "integer" }
              }
            }
          }
        }
      }
    },
    "/units/{id}/activities": {
      "get": {
        "tags": ["Unit"],
        "summary": "Get the activities of a unit",
        "operationId": "getUnitActivities",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "description": "Unit id",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "activityCode": { "type": "string" },
                  "activityGroup": { "type": "string" },
                  "campus": { "type": "string" },
                  "location": { "type": "string" },
                  "dayOfWeek": {
                    "type": "string",
                    "enum": ["M", "T", "W", "Th", "F"]
                  },
                  "startTime": { "type": "string", "format": "time" },
                  "endTime": { "type": "string", "format": "time" },
                  "unitId": { "type": "string", "format": "uuid" },
                  "studentCount": { "type": "integer", "default": 0 },
                  "allocationMaxNum": { "type": "integer", "default": 1 },
                  "allocation": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string", "format": "uuid" },
                        "activityId": { "type": "string", "format": "uuid" },
                        "staffId": { "type": "string", "format": "uuid" },
                        "offerExpiryDate": {
                          "type": "string",
                          "format": "timestamptz"
                        },
                        "isLecturerApproved": {
                          "type": "boolean",
                          "default": null,
                          "nullable": true
                        },
                        "isTaAccepted": {
                          "type": "boolean",
                          "default": null,
                          "nullable": true
                        },
                        "isWorkforceApproved": {
                          "type": "boolean",
                          "default": null,
                          "nullable": true
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/units/byRole/{title}": {
      "get": {
        "tags": ["Unit"],
        "summary": "Returns the calling user's units depending on the role specified",
        "operationId": "getMyUnitsByRole",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "path",
            "name": "title",
            "description": "Title of the user, TA/Lecturer",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "format": "uuid" },
                  "unitCode": { "type": "string" },
                  "offeringPeriod": { "type": "string" },
                  "campus": { "type": "string" },
                  "year": { "type": "integer" },
                  "aqfTarget": { "type": "integer" },
                  "activities": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string", "format": "uuid" },
                        "activityCode": { "type": "string" },
                        "activityGroup": { "type": "string" },
                        "campus": { "type": "string" },
                        "location": { "type": "string" },
                        "dayOfWeek": {
                          "type": "string",
                          "enum": ["M", "T", "W", "Th", "F"]
                        },
                        "startTime": { "type": "string", "format": "time" },
                        "endTime": { "type": "string", "format": "time" },
                        "unitId": { "type": "string", "format": "uuid" },
                        "studentCount": { "type": "integer", "default": 0 },
                        "allocationMaxNum": { "type": "integer", "default": 1 }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/upload/tas": {
      "post": {
        "tags": ["Upload"],
        "responses": { "200": { "description": "successful operation" } }
      }
    },
    "/upload/tps": {
      "post": {
        "tags": ["Upload"],
        "responses": { "200": { "description": "successful operation" } }
      }
    },
    "/upload/allocate": {
      "post": {
        "tags": ["Upload"],
        "responses": { "200": { "description": "successful operation" } }
      }
    }
  },
  "definitions": {
    "Activity": {
      "type": "object",
      "properties": {
        "id": { "type": "string", "format": "uuid" },
        "activityCode": { "type": "string" },
        "activityGroup": { "type": "string" },
        "campus": { "type": "string" },
        "location": { "type": "string" },
        "dayOfWeek": { "type": "string", "enum": ["M", "T", "W", "Th", "F"] },
        "startTime": { "type": "string", "format": "time" },
        "endTime": { "type": "string", "format": "time" },
        "unitId": { "type": "string", "format": "uuid" },
        "studentCount": { "type": "integer", "default": 0 },
        "allocationMaxNum": { "type": "integer", "default": 1 }
      }
    },
    "Allocation": {
      "type": "object",
      "properties": {
        "id": { "type": "string", "format": "uuid" },
        "activityId": { "type": "string", "format": "uuid" },
        "staffId": { "type": "string", "format": "uuid" },
        "offerExpiryDate": { "type": "string", "format": "timestamptz" },
        "isLecturerApproved": {
          "type": "boolean",
          "default": null,
          "nullable": true
        },
        "isTaAccepted": {
          "type": "boolean",
          "default": null,
          "nullable": true
        },
        "isWorkforceApproved": {
          "type": "boolean",
          "default": null,
          "nullable": true
        }
      }
    },
    "Availability": {
      "type": "object",
      "properties": {
        "id": { "type": "string", "format": "uuid" },
        "day": { "type": "string", "enum": ["M", "T", "W", "Th", "F"] },
        "starttime": { "type": "string", "format": "time" },
        "endTime": { "type": "string", "format": "time" },
        "year": { "type": "integer" },
        "maxHours": { "type": "integer" },
        "maxNumberActivities": { "type": "integer" },
        "staffId": { "type": "string", "format": "uuid" }
      }
    },
    "Role": {
      "type": "object",
      "properties": {
        "id": { "type": "string", "format": "uuid" },
        "title": { "type": "string", "enum": ["TA", "Lecturer"] },
        "unitId": { "type": "string", "format": "uuid" },
        "staffId": { "type": "string", "format": "uuid" }
      }
    },
    "Rule": {
      "type": "object",
      "properties": {
        "id": { "type": "string", "format": "uuid" },
        "ruleName": { "readOnly": true, "type": "string" },
        "ruleDescription": { "readOnly": true, "type": "string" },
        "value": { "type": "integer" }
      }
    },
    "Staff": {
      "type": "object",
      "properties": {
        "id": { "type": "string", "format": "uuid" },
        "givenNames": { "type": "string", "nullable": true },
        "lastName": { "type": "string", "nullable": true },
        "aqf": { "type": "integer", "nullable": true },
        "studyingAqf": { "type": "integer", "nullable": true },
        "email": { "uniqueItems": true, "type": "string", "format": "text" },
        "googleId": { "type": "string", "nullable": true },
        "appRole": { "type": "string", "enum": ["User", "Admin"] }
      }
    },
    "StaffPreference": {
      "type": "object",
      "properties": {
        "id": { "type": "string", "format": "uuid" },
        "preferenceScore": { "type": "integer" },
        "lecturerScore": { "type": "integer" },
        "isHeadTutorCandidate": { "type": "boolean" },
        "staffId": { "type": "string", "format": "uuid" },
        "unitId": { "type": "string", "format": "uuid" }
      }
    },
    "StatusLog": {
      "type": "object",
      "properties": {
        "id": { "type": "string", "format": "uuid" },
        "allocationId": { "type": "string", "format": "uuid" },
        "staffId": { "type": "string", "format": "uuid" },
        "targetStaffId": {
          "type": "string",
          "format": "uuid",
          "nullable": true
        },
        "action": { "type": "string" },
        "time": { "type": "string" }
      }
    },
    "Swap": {
      "type": "object",
      "properties": {
        "id": { "type": "string", "format": "uuid" },
        "fromAllocationId": { "type": "string", "format": "uuid" },
        "desiredActivityId": { "type": "string" },
        "intoAllocationId": {
          "type": "string",
          "format": "uuid",
          "nullable": true
        },
        "lecturerApproved": { "type": "boolean" },
        "workforceApproved": { "type": "boolean" },
        "desiredId": { "type": "string", "format": "uuid", "nullable": true }
      }
    },
    "Unit": {
      "type": "object",
      "properties": {
        "id": { "type": "string", "format": "uuid" },
        "unitCode": { "type": "string" },
        "offeringPeriod": { "type": "string" },
        "campus": { "type": "string" },
        "year": { "type": "integer" },
        "aqfTarget": { "type": "integer" }
      }
    }
  },
  "securitySchemes": {
    "cookieAuth": { "type": "apiKey", "in": "cookie", "name": "sid" }
  }
}
