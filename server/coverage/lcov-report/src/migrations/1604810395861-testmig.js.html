
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for src/migrations/1604810395861-testmig.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../index.html">All files</a> / <a href="index.html">src/migrations</a> 1604810395861-testmig.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">10.87% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>5/46</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">27.27% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>3/11</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">8.33% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>1/12</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">12.2% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>5/41</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";
var __awaiter = (this &amp;&amp; this.__awaiter) || <span class="fstat-no" title="function not covered" >fu</span>nction (thisArg, _arguments, P, generator) {
    function <span class="fstat-no" title="function not covered" >adopt(</span>value) { <span class="cstat-no" title="statement not covered" >return value instanceof P ? value : new P(<span class="fstat-no" title="function not covered" >fu</span>nction (resolve) { <span class="cstat-no" title="statement not covered" >resolve(value); </span>}); </span>}
<span class="cstat-no" title="statement not covered" >    return new (P || (P = Promise))(<span class="fstat-no" title="function not covered" >fu</span>nction (resolve, reject) {</span>
        function <span class="fstat-no" title="function not covered" >fulfilled(</span>value) { <span class="cstat-no" title="statement not covered" >try { <span class="cstat-no" title="statement not covered" >step(generator.next(value)); </span>} catch (e) { <span class="cstat-no" title="statement not covered" >reject(e); </span>} </span>}
        function <span class="fstat-no" title="function not covered" >rejected(</span>value) { <span class="cstat-no" title="statement not covered" >try { <span class="cstat-no" title="statement not covered" >step(generator["throw"](value)); </span>} catch (e) { <span class="cstat-no" title="statement not covered" >reject(e); </span>} </span>}
        function <span class="fstat-no" title="function not covered" >step(</span>result) { <span class="cstat-no" title="statement not covered" >result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); </span>}
<span class="cstat-no" title="statement not covered" >        step((generator = generator.apply(thisArg, _arguments || [])).next());</span>
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.testmig1604810395861 = void 0;
class testmig1604810395861 {
    constructor() {
        this.name = 'testmig1604810395861';
    }
<span class="fstat-no" title="function not covered" >    up</span>(queryRunner) {
<span class="cstat-no" title="statement not covered" >        return __awaiter(this, void 0, void 0, <span class="fstat-no" title="function not covered" >fu</span>nction* () {</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`CREATE TABLE "allocation" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "activityId" integer NOT NULL, "staffId" uuid NOT NULL, CONSTRAINT "PK_6396ef344467724a515df0430f4" PRIMARY KEY ("id", "activityId", "staffId"))`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`CREATE TYPE "availability_day_enum" AS ENUM('M', 'T', 'W', 'Th', 'F')`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`CREATE TABLE "availability" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "day" "availability_day_enum" NOT NULL, "startTime" TIME NOT NULL, "endTime" TIME NOT NULL, "year" integer NOT NULL, "maxHours" integer NOT NULL, "maxNumberActivities" integer NOT NULL, "staffId" uuid NOT NULL, CONSTRAINT "PK_3a01ebf2c26d9403e3c5ebcb096" PRIMARY KEY ("id", "staffId"))`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`CREATE TABLE "staff" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "givenNames" character varying NOT NULL, "lastName" character varying NOT NULL, "aqf" integer NOT NULL, "studyingAqf" integer NOT NULL, "email" text NOT NULL, CONSTRAINT "UQ_902985a964245652d5e3a0f5f6a" UNIQUE ("email"), CONSTRAINT "PK_e4ee98bb552756c180aec1e854a" PRIMARY KEY ("id"))`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`CREATE TABLE "staff_preference" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "preferenceScore" integer NOT NULL, "lecturerScore" integer NOT NULL, "isHeadTutorCandidate" boolean NOT NULL, "staffId" uuid NOT NULL, "unitId" uuid NOT NULL, CONSTRAINT "PK_b79ed25f0d3202039c497a96fc0" PRIMARY KEY ("id", "staffId", "unitId"))`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`CREATE TABLE "unit" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "unitCode" character varying(7) NOT NULL, "offeringPeriod" character varying NOT NULL, "campus" character varying(2) NOT NULL, "year" integer NOT NULL, "aqfTarget" integer NOT NULL, CONSTRAINT "UQ_8e30a148fa59a34de779da4242c" UNIQUE ("unitCode", "offeringPeriod", "year"), CONSTRAINT "PK_4252c4be609041e559f0c80f58a" PRIMARY KEY ("id"))`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`CREATE TYPE "activity_dayofweek_enum" AS ENUM('M', 'T', 'W', 'Th', 'F')`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`CREATE TABLE "activity" ("id" SERIAL NOT NULL, "activityCode" character varying NOT NULL, "activityGroup" character varying NOT NULL, "campus" character varying(2) NOT NULL, "location" character varying NOT NULL, "duration" integer NOT NULL, "dayOfWeek" "activity_dayofweek_enum" NOT NULL, "startTime" TIME NOT NULL, "unitId" uuid, CONSTRAINT "UQ_aa56912ec600e038fb3b70639d8" UNIQUE ("activityCode"), CONSTRAINT "PK_24625a1d6b1b089c8ae206fe467" PRIMARY KEY ("id"))`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "allocation" ADD CONSTRAINT "FK_ef6e791603faadd9bdcd490e0a3" FOREIGN KEY ("activityId") REFERENCES "activity"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "allocation" ADD CONSTRAINT "FK_13d4fc168d0c3c4f93b46ecfa20" FOREIGN KEY ("staffId") REFERENCES "staff"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "availability" ADD CONSTRAINT "FK_92a1cfd52ca192e7087f5dd101a" FOREIGN KEY ("staffId") REFERENCES "staff"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "staff_preference" ADD CONSTRAINT "FK_80a63f5601b81b641c54a5ac7a4" FOREIGN KEY ("staffId") REFERENCES "staff"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "staff_preference" ADD CONSTRAINT "FK_5babb225c2d139353806fb8cc33" FOREIGN KEY ("unitId") REFERENCES "unit"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "activity" ADD CONSTRAINT "FK_0670cc2b059fd58bdeed2fee975" FOREIGN KEY ("unitId") REFERENCES "unit"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);</span>
        });
    }
<span class="fstat-no" title="function not covered" >    do</span>wn(queryRunner) {
<span class="cstat-no" title="statement not covered" >        return __awaiter(this, void 0, void 0, <span class="fstat-no" title="function not covered" >fu</span>nction* () {</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "activity" DROP CONSTRAINT "FK_0670cc2b059fd58bdeed2fee975"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "staff_preference" DROP CONSTRAINT "FK_5babb225c2d139353806fb8cc33"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "staff_preference" DROP CONSTRAINT "FK_80a63f5601b81b641c54a5ac7a4"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "availability" DROP CONSTRAINT "FK_92a1cfd52ca192e7087f5dd101a"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "allocation" DROP CONSTRAINT "FK_13d4fc168d0c3c4f93b46ecfa20"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`ALTER TABLE "allocation" DROP CONSTRAINT "FK_ef6e791603faadd9bdcd490e0a3"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`DROP TABLE "activity"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`DROP TYPE "activity_dayofweek_enum"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`DROP TABLE "unit"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`DROP TABLE "staff_preference"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`DROP TABLE "staff"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`DROP TABLE "availability"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`DROP TYPE "availability_day_enum"`);</span>
<span class="cstat-no" title="statement not covered" >            yield queryRunner.query(`DROP TABLE "allocation"`);</span>
        });
    }
}
exports.testmig1604810395861 = testmig1604810395861;
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank">istanbul</a>
                at Sun Nov 08 2020 16:11:15 GMT+1100 (Australian Eastern Daylight Time)
            </div>
        </div>
        <script src="../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../sorter.js"></script>
        <script src="../../block-navigation.js"></script>
    </body>
</html>
    